<!doctype html>
<html>

<head>
  <meta charset='UTF-8'>
  <meta name='viewport' content='width=device-width initial-scale=1'>
  <link rel="stylesheet" media="print" href="./demo.css">
  <link rel="stylesheet" media="screen" href="./demo.css">
  <link rel="stylesheet" media="print" href="./molokai.css">
  <link rel="stylesheet" media="screen" href="./molokai.css">
  <script type="text/javascript"
    src="https://cdn.jsdelivr.net/gh/hexo-simple-theme/hexo_latex@1.0.4/mathjax/MathJax.js?config=TeX-AMS_HTML-full">
  </script>
  <script type="text/javascript" src="./my_code.js"></script>
  <script type="text/javascript" src="./highlight.min.js"></script>
  <title></title>
</head>

<body>
  <div class="slide">
    <div class="content">

      <h1>实验报告</h1>
      <h2>kmt</h2>
      
      <h3>线程创建</h3>
      <h3>信号量</h3>

      <figure class="highlight c">
        <pre>
<code class="c">
static int kcreate(task_t *task, const char *name, void (*entry)(void *arg), void *arg)
{
  task->name = name;
  task->fence1 = (uint8_t *)pmm->alloc(32);
  task->stack = (uint8_t *)pmm->alloc(4096);
  task->fence2 = (uint8_t *)pmm->alloc(32);
  memset(task->fence1, 0xcc, 32);// 保护1
  memset(task->fence2, 0xdd, 32);// 保护2
  _Area stack = (_Area) {task->stack, task->stack + 4096};// TODO
  task->context = *_kcontext(stack, entry, arg);// TODO
  task->id = total_task;
  task->state = 1;// 可以运行
  tasks[total_task] = task;
  Info("create task[%d]: %s", total_task, name);
  total_task ++;
  return 0;
}
</code>
        </pre>
      </figure>

      <p>$$ a^b_{a + b} $$</p>

      <p><span class="code">sdjfkasl</span></p>
    </div>
  </div>

  <div class="slide">
    <div class="content">

    </div>
  </div>

  <script type="text/x-mathjax-config">
    console.log("mathjax rendering");
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [
          ['$','$']
        ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
    
    /*
    MathJax.Hub.Queue(function() { // 重新启动渲染
      var all = MathJax.Hub.getAllJax(), i;
      for (i = 0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
      }
    });
    */
  
    MathJax.Hub.Queue(["Typeset", MathJax.Hub])
  </script>
  <script>
    console.log("highlight");
    hljs.initHighlightingOnLoad();
    setTimeout("my_highlight_start()", 0);
  </script>
</body>

</html>